import { useState, useEffect } from "react";
interface OverviewProps {
  data: Array<{
    status: string;
    jumlah: number;
  }>;
}

const DashboardOverview = ({ data }: OverviewProps) => {
  const [statusCount, setStatusCount] = useState<{
    belum: number;
    sudah: number;
    proses: number;
  }>({ belum: 0, proses: 0, sudah: 0 });

  useEffect(() => {
    data?.forEach((i) => {
      if (i.status === "belum") {
        setStatusCount((current) => ({ ...current, belum: i.jumlah }));
      }

      if (i.status === "proses") {
        setStatusCount((current) => ({ ...current, proses: i.jumlah }));
      }

      if (i.status === "sudah") {
        setStatusCount((current) => ({ ...current, sudah: i.jumlah }));
      }
    });
  }, [data]);
  return (
    <div className="flex flex-col md:flex-row justify-between px-7 gap-5">
      <div className="w-full bg-white rounded-md shadow-md py-5 px-6">
        <svg
          width="47"
          height="47"
          viewBox="0 0 47 47"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect width="47" height="47" rx="23.5" fill="#E55353" />
          <g clipPath="url(#clip0_8_1526)">
            <path
              d="M17.6015 36.876H15.5958C15.1639 36.876 14.8134 36.5239 14.8134 36.0901V12.7859C14.8134 12.3521 15.1639 12 15.5958 12H17.6029C18.0347 12 18.3852 12.3521 18.3852 12.7859V36.0888C18.3839 36.524 18.0347 36.876 17.6015 36.876Z"
              fill="#E55353"
            />
            <path
              d="M17.3338 13.055V35.8211H15.8622V13.055H17.3338ZM17.6015 12H15.5958C15.1639 12 14.8134 12.3521 14.8134 12.7859V36.0888C14.8134 36.5226 15.1639 36.8747 15.5958 36.8747H17.6029C18.0347 36.8747 18.3852 36.5226 18.3852 36.0888V12.7859C18.3839 12.3521 18.0347 12 17.6015 12Z"
              fill="white"
            />
            <path
              d="M19.9893 37H13.288C12.9979 37 12.7629 36.7639 12.7629 36.4725C12.7629 36.1811 12.9979 35.945 13.288 35.945H19.9906C20.2807 35.945 20.5157 36.1811 20.5157 36.4725C20.5157 36.7639 20.2794 37 19.9893 37Z"
              fill="white"
            />
            <path
              d="M30.4555 36.876H28.4484C28.0165 36.876 27.666 36.5239 27.666 36.0901V12.7859C27.666 12.3521 28.0165 12 28.4484 12H30.4555C30.8873 12 31.2378 12.3521 31.2378 12.7859V36.0888C31.2378 36.524 30.8873 36.876 30.4555 36.876Z"
              fill="#E55353"
            />
            <path
              d="M30.1877 13.055V35.8211H28.7161V13.055H30.1877ZM30.4555 12H28.4484C28.0165 12 27.666 12.3521 27.666 12.7859V36.0888C27.666 36.5226 28.0165 36.8747 28.4484 36.8747H30.4555C30.8873 36.8747 31.2378 36.5226 31.2378 36.0888V12.7859C31.2378 12.3521 30.8873 12 30.4555 12Z"
              fill="white"
            />
            <path
              d="M32.8432 37H26.1406C25.8505 37 25.6155 36.7639 25.6155 36.4725C25.6155 36.1811 25.8505 35.945 26.1406 35.945H32.8432C33.1333 35.945 33.3683 36.1811 33.3683 36.4725C33.3683 36.7639 33.1333 37 32.8432 37Z"
              fill="white"
            />
            <path
              d="M34.1572 29.1748H11.8428C11.3767 29.1748 11 28.7963 11 28.3282V15.2256C11 14.7574 11.3767 14.3789 11.8428 14.3789H34.1572C34.6233 14.3789 35 14.7574 35 15.2256V28.3282C35 28.7963 34.6219 29.1748 34.1572 29.1748Z"
              fill="#E55353"
            />
            <path
              d="M33.9498 15.4339V28.1198H12.0502V15.4339H33.9498ZM34.1572 14.3789H11.8428C11.3767 14.3789 11 14.7574 11 15.2256V28.3282C11 28.7963 11.3767 29.1748 11.8428 29.1748H34.1572C34.6233 29.1748 35 28.7963 35 28.3282V15.2256C35 14.7574 34.6219 14.3789 34.1572 14.3789Z"
              fill="white"
            />
            <path
              d="M26.1475 18.8525C25.9528 18.6578 25.6372 18.6578 25.4425 18.8525L23 21.295L20.5575 18.8525C20.3628 18.6578 20.0472 18.6578 19.8525 18.8525C19.6578 19.0472 19.6578 19.3628 19.8525 19.5575L22.295 22L19.874 24.421C19.6675 24.6275 19.6675 24.9625 19.874 25.169C20.0568 25.3518 20.3532 25.3518 20.536 25.169L23 22.705L25.4425 25.1475C25.6372 25.3422 25.9528 25.3422 26.1475 25.1475C26.3422 24.9528 26.3422 24.6372 26.1475 24.4425L23.705 22L26.1475 19.5575C26.3422 19.3628 26.3422 19.0472 26.1475 18.8525Z"
              fill="white"
            />
          </g>
          <defs>
            <clipPath id="clip0_8_1526">
              <rect
                width="24"
                height="25"
                fill="white"
                transform="translate(11 12)"
              />
            </clipPath>
          </defs>
        </svg>
        <div className="flex justify-between items-end">
          <p>Reklame Belum Berizin</p>
          <p className="text-5xl font-semibold">{statusCount.belum!}</p>
        </div>
      </div>
      <div className="w-full bg-white rounded-md shadow-md py-5 px-6">
        <svg
          width="47"
          height="47"
          viewBox="0 0 47 47"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect width="47" height="47" rx="23.5" fill="#FF922B" />
          <g clipPath="url(#clip0_8_1570)">
            <path
              d="M18.6015 36.876H16.5957C16.1639 36.876 15.8134 36.5239 15.8134 36.0901V12.7859C15.8134 12.3521 16.1639 12 16.5957 12H18.6029C19.0347 12 19.3852 12.3521 19.3852 12.7859V36.0888C19.3839 36.524 19.0347 36.876 18.6015 36.876Z"
              fill="#FF922B"
            />
            <path
              d="M18.3338 13.055V35.8211H16.8622V13.055H18.3338ZM18.6015 12H16.5957C16.1639 12 15.8134 12.3521 15.8134 12.7859V36.0888C15.8134 36.5226 16.1639 36.8747 16.5957 36.8747H18.6029C19.0347 36.8747 19.3852 36.5226 19.3852 36.0888V12.7859C19.3839 12.3521 19.0347 12 18.6015 12Z"
              fill="white"
            />
            <path
              d="M20.9893 37H14.288C13.9979 37 13.7629 36.7639 13.7629 36.4725C13.7629 36.1811 13.9979 35.945 14.288 35.945H20.9906C21.2808 35.945 21.5157 36.1811 21.5157 36.4725C21.5157 36.7639 21.2794 37 20.9893 37Z"
              fill="white"
            />
            <path
              d="M31.4554 36.876H29.4483C29.0165 36.876 28.666 36.5239 28.666 36.0901V12.7859C28.666 12.3521 29.0165 12 29.4483 12H31.4554C31.8873 12 32.2378 12.3521 32.2378 12.7859V36.0888C32.2378 36.524 31.8873 36.876 31.4554 36.876Z"
              fill="#FF922B"
            />
            <path
              d="M31.1877 13.055V35.8211H29.7161V13.055H31.1877ZM31.4554 12H29.4483C29.0165 12 28.666 12.3521 28.666 12.7859V36.0888C28.666 36.5226 29.0165 36.8747 29.4483 36.8747H31.4554C31.8873 36.8747 32.2378 36.5226 32.2378 36.0888V12.7859C32.2378 12.3521 31.8873 12 31.4554 12Z"
              fill="white"
            />
            <path
              d="M33.8432 37H27.1406C26.8505 37 26.6155 36.7639 26.6155 36.4725C26.6155 36.1811 26.8505 35.945 27.1406 35.945H33.8432C34.1333 35.945 34.3683 36.1811 34.3683 36.4725C34.3683 36.7639 34.1333 37 33.8432 37Z"
              fill="white"
            />
            <path
              d="M35.1572 29.1748H12.8428C12.3767 29.1748 12 28.7963 12 28.3282V15.2256C12 14.7574 12.3767 14.3789 12.8428 14.3789H35.1572C35.6233 14.3789 36 14.7574 36 15.2256V28.3282C36 28.7963 35.6219 29.1748 35.1572 29.1748Z"
              fill="#FF922B"
            />
            <path
              d="M34.9498 15.4339V28.1198H13.0502V15.4339H34.9498ZM35.1572 14.3789H12.8428C12.3767 14.3789 12 14.7574 12 15.2256V28.3282C12 28.7963 12.3767 29.1748 12.8428 29.1748H35.1572C35.6233 29.1748 36 28.7963 36 28.3282V15.2256C36 14.7574 35.6219 14.3789 35.1572 14.3789Z"
              fill="white"
            />
            <path
              d="M22.7182 17.6876C21.7049 17.9885 20.83 18.6364 20.247 19.5176C20.1669 19.6619 20.1169 19.821 20.1 19.9852V18.7054C20.1 18.5397 19.9657 18.4054 19.8 18.4054C19.6343 18.4054 19.5 18.5397 19.5 18.7054V20.5342C19.5 20.683 19.6206 20.8036 19.7695 20.8036H21.6001C21.7657 20.8036 21.8999 20.6694 21.8999 20.5038C21.8999 20.3383 21.7657 20.2041 21.6001 20.2041H20.544C21.2157 18.9127 22.5435 18.0949 23.9998 18.0756C25.6262 18.0945 27.0636 19.1056 27.6406 20.604C27.7001 20.7586 27.8661 20.8494 28.025 20.8023C28.1844 20.755 28.2761 20.5868 28.2183 20.4309C27.4016 18.2291 25.0033 17.0088 22.7182 17.6876Z"
              fill="white"
            />
            <path
              d="M26.3997 23.2019C26.2342 23.2019 26.1 23.3361 26.1 23.5017C26.1 23.6672 26.2342 23.8014 26.3997 23.8014H27.4559C26.7842 25.0928 25.4564 25.9106 24.0001 25.9299C22.3735 25.911 20.9362 24.8998 20.3592 23.4014C20.2997 23.2468 20.1338 23.156 19.975 23.2031C19.8156 23.2504 19.724 23.4188 19.782 23.5746C20.6015 25.7753 23.0013 26.9925 25.2855 26.3108C26.3285 25.9995 27.2232 25.321 27.8039 24.401C27.8661 24.2837 27.899 24.1531 27.8999 24.0203V25.3001C27.8999 25.4658 28.0342 25.6001 28.1999 25.6001C28.3656 25.6001 28.4999 25.4658 28.4999 25.3001V23.2256C28.4999 23.2125 28.4892 23.2019 28.4761 23.2019H26.3997Z"
              fill="white"
            />
          </g>
          <defs>
            <clipPath id="clip0_8_1570">
              <rect
                width="24"
                height="25"
                fill="white"
                transform="translate(12 12)"
              />
            </clipPath>
          </defs>
        </svg>
        <div className="flex justify-between items-end">
          <p>Reklame Proses Izin</p>
          <p className="text-5xl font-semibold">{statusCount.proses}</p>
        </div>
      </div>
      <div className="w-full bg-white rounded-md shadow-md py-5 px-6">
        <svg
          width="47"
          height="47"
          viewBox="0 0 47 47"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect width="47" height="47" rx="23.5" fill="#39B54A" />
          <g clipPath="url(#clip0_8_1574)">
            <path
              d="M18.6015 36.876H16.5958C16.1639 36.876 15.8134 36.5239 15.8134 36.0901V12.7859C15.8134 12.3521 16.1639 12 16.5958 12H18.6029C19.0347 12 19.3852 12.3521 19.3852 12.7859V36.0888C19.3839 36.524 19.0347 36.876 18.6015 36.876Z"
              fill="#39B54A"
            />
            <path
              d="M18.3338 13.055V35.8211H16.8622V13.055H18.3338ZM18.6015 12H16.5958C16.1639 12 15.8134 12.3521 15.8134 12.7859V36.0888C15.8134 36.5226 16.1639 36.8747 16.5958 36.8747H18.6029C19.0347 36.8747 19.3852 36.5226 19.3852 36.0888V12.7859C19.3839 12.3521 19.0347 12 18.6015 12Z"
              fill="white"
            />
            <path
              d="M20.9893 37H14.288C13.9979 37 13.7629 36.7639 13.7629 36.4725C13.7629 36.1811 13.9979 35.945 14.288 35.945H20.9906C21.2807 35.945 21.5157 36.1811 21.5157 36.4725C21.5157 36.7639 21.2794 37 20.9893 37Z"
              fill="white"
            />
            <path
              d="M31.4555 36.876H29.4484C29.0165 36.876 28.666 36.5239 28.666 36.0901V12.7859C28.666 12.3521 29.0165 12 29.4484 12H31.4555C31.8873 12 32.2378 12.3521 32.2378 12.7859V36.0888C32.2378 36.524 31.8873 36.876 31.4555 36.876Z"
              fill="#39B54A"
            />
            <path
              d="M31.1877 13.055V35.8211H29.7161V13.055H31.1877ZM31.4555 12H29.4484C29.0165 12 28.666 12.3521 28.666 12.7859V36.0888C28.666 36.5226 29.0165 36.8747 29.4484 36.8747H31.4555C31.8873 36.8747 32.2378 36.5226 32.2378 36.0888V12.7859C32.2378 12.3521 31.8873 12 31.4555 12Z"
              fill="white"
            />
            <path
              d="M33.8432 37H27.1406C26.8505 37 26.6155 36.7639 26.6155 36.4725C26.6155 36.1811 26.8505 35.945 27.1406 35.945H33.8432C34.1333 35.945 34.3683 36.1811 34.3683 36.4725C34.3683 36.7639 34.1333 37 33.8432 37Z"
              fill="white"
            />
            <path
              d="M35.1572 29.1748H12.8428C12.3767 29.1748 12 28.7963 12 28.3282V15.2256C12 14.7574 12.3767 14.3789 12.8428 14.3789H35.1572C35.6233 14.3789 36 14.7574 36 15.2256V28.3282C36 28.7963 35.6219 29.1748 35.1572 29.1748Z"
              fill="#39B54A"
            />
            <path
              d="M34.9498 15.4339V28.1198H13.0502V15.4339H34.9498ZM35.1572 14.3789H12.8428C12.3767 14.3789 12 14.7574 12 15.2256V28.3282C12 28.7963 12.3767 29.1748 12.8428 29.1748H35.1572C35.6233 29.1748 36 28.7963 36 28.3282V15.2256C36 14.7574 35.6219 14.3789 35.1572 14.3789Z"
              fill="white"
            />
            <path
              d="M22.8386 25.2913C22.6711 25.2913 22.5109 25.2257 22.3908 25.1056L20.4357 23.1505C20.3155 23.0303 20.25 22.8738 20.25 22.7027C20.25 22.5352 20.3155 22.375 20.4357 22.2549C20.5558 22.1347 20.7124 22.0692 20.8835 22.0692C21.051 22.0692 21.2112 22.1347 21.3313 22.2549L22.8386 23.7694L27.4223 19.1857C27.5425 19.0655 27.699 19 27.8701 19C28.0376 19 28.1978 19.0655 28.318 19.1857C28.4381 19.3058 28.5036 19.4624 28.5036 19.6335C28.5036 19.801 28.4381 19.9612 28.318 20.0813L23.2864 25.1092C23.1663 25.2257 23.0061 25.2913 22.8386 25.2913Z"
              fill="white"
            />
          </g>
          <defs>
            <clipPath id="clip0_8_1574">
              <rect
                width="24"
                height="25"
                fill="white"
                transform="translate(12 12)"
              />
            </clipPath>
          </defs>
        </svg>
        <div className="flex justify-between items-end">
          <p>Reklame Sudah Berizin</p>
          <p className="text-5xl font-semibold">{statusCount.sudah}</p>
        </div>
      </div>
    </div>
  );
};

export default DashboardOverview;
